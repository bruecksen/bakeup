<<<<<<< HEAD
$(document).ready((function(){location.hash&&$("button[data-bs-target='"+location.hash+"']").tab("show"),$(document.body).on("click","button[data-bs-toggle='tab']",(function(e){location.hash=this.getAttribute("data-bs-target")}))})),$(window).on("popstate",(function(){var e=location.hash||$("button[data-bs-toggle='tab']").first().attr("data-bs-target");$("button[data-bs-target='"+e+"']").tab("show")}));var popoverTriggerList=[].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]')),popoverList=popoverTriggerList.map((function(e){return new bootstrap.Popover(e)}));let form=document.querySelectorAll(".form-container"),container=document.querySelector(".form-add-inline"),addAnotherContainer=document.querySelector(".add-another-container"),addButton=document.querySelector(".add-another-form"),totalForms=document.querySelector("#id_form-TOTAL_FORMS"),saveButton=document.querySelector(".save-another-form");function addRemoveButtonEvent(e){for(let t=0;t<e.length;t++)e[t].addEventListener("click",removeForm)}function addForm(e){e.preventDefault(),saveButton.classList.remove("d-none");let t=parseInt(totalForms.value),o=form[0].cloneNode(!0);RegExp("form-(\\d){1}-","g");o.classList.remove("d-none"),o.innerHTML=o.innerHTML.replace(/__prefix__/g,`${t}`),console.log(form[0]),container.insertBefore(o,form[0]),totalForms.setAttribute("value",`${t+1}`),addRemoveButtonEvent(document.querySelectorAll(".remove-another-form"))}addButton&&addButton.addEventListener("click",addForm);let removeButtons=document.querySelectorAll(".remove-another-form");function removeForm(e){console.log("click"),e.preventDefault(),e.target.closest(".list-group-item").remove();let t=parseInt(document.querySelector("#id_form-TOTAL_FORMS").value);totalForms.setAttribute("value",""+(t-1)),t-1==0&&saveButton.classList.add("d-none")}addRemoveButtonEvent(removeButtons);var sidebarToggler=document.querySelector(".sidebar-toggler");sidebarToggler&&sidebarToggler.addEventListener("click",toggleSidebar);var sidebarTogglerHide=document.querySelector(".sidebar-toggler-hide");function toggleSidebar(){const e=document.querySelector(".sidebar");"none"===window.getComputedStyle(e).display?(e.style.display="flex",sidebarTogglerHide.style.display="block"):(e.style.display="",sidebarTogglerHide.style.display="")}sidebarTogglerHide&&sidebarTogglerHide.addEventListener("click",toggleSidebar);let expandAll=document.getElementById("expand-all");expandAll&&(document.getElementById("expand-all").onclick=function(){console.log(this.getAttribute("aria-expanded")),this.setAttribute("aria-expanded","true"!==this.getAttribute("aria-expanded")),this.classList.toggle("show");var e=!1;this.classList.contains("show")&&(e=!0),document.querySelectorAll(".collapse").forEach((t=>{e?(t.classList.add("show"),document.querySelector('[data-bs-target="#'+t.id+'"]').setAttribute("aria-expanded",!0)):(t.classList.remove("show"),document.querySelector('[data-bs-target="#'+t.id+'"]').setAttribute("aria-expanded",!1))}))});let plus_btns=document.querySelectorAll(".input-group .btn-plus"),minus_btns=document.querySelectorAll(".input-group .btn-minus"),qty_inputs=document.querySelectorAll(".input-group input[type=number]");console.log(plus_btns,minus_btns,qty_inputs),plus_btns.forEach((e=>{console.log(e.disabled),e.previousElementSibling.disabled||e.addEventListener("click",(()=>{console.log(e.previousElementSibling.value==e.previousElementSibling.max),e.previousElementSibling.value=e.previousElementSibling.value==e.previousElementSibling.max?e.previousElementSibling.max:parseInt(e.previousElementSibling.value)+1}))})),minus_btns.forEach((e=>{e.nextElementSibling.disabled||e.addEventListener("click",(()=>{e.nextElementSibling.value=0==e.nextElementSibling.value?0:e.nextElementSibling.value-1}))}));var navbar=document.getElementById("navbar");navbar&&!navbar.classList.contains("nav-bg-dark")&&(window.onscroll=function(){document.body.scrollTop>=200||document.documentElement.scrollTop>=200?navbar.classList.add("nav-bg-dark"):navbar.classList.remove("nav-bg-dark")});const myCollapsible=document.getElementById("navbarSupportedContent"),header=document.querySelector("header");myCollapsible&&(myCollapsible.addEventListener("show.bs.collapse",(e=>{navbar.classList.add("nav-bg-dark"),header.classList.add("open"),document.body.classList.add("position-fixed-mobile")})),myCollapsible.addEventListener("hidden.bs.collapse",(e=>{header.classList.remove("open"),document.body.classList.remove("position-fixed-mobile"),document.body.scrollTop>=200||document.documentElement.scrollTop>=200||navbar.classList.remove("nav-bg-dark")}))),document.querySelector("#id_message").addEventListener("change",(function(){this.closest("form").submit()}));
=======
$(document).ready((function(){location.hash&&$("button[data-bs-target='"+location.hash+"']").tab("show"),$(document.body).on("click","button[data-bs-toggle='tab']",(function(e){location.hash=this.getAttribute("data-bs-target")})),$("#customer-order-form").dirty({preventLeaving:!0,leavingMessage:"Du hast deinen Brotkorb noch nicht abgeschickt. Willst du wirklich die Seite verlassen?"})})),$(window).on("popstate",(function(){var e=location.hash||$("button[data-bs-toggle='tab']").first().attr("data-bs-target");$("button[data-bs-target='"+e+"']").tab("show")}));var popoverTriggerList=[].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]')),popoverList=popoverTriggerList.map((function(e){return new bootstrap.Popover(e)}));let form=document.querySelectorAll(".form-container"),container=document.querySelector(".form-add-inline"),addAnotherContainer=document.querySelector(".add-another-container"),addButton=document.querySelector(".add-another-form"),totalForms=document.querySelector("#id_form-TOTAL_FORMS"),saveButton=document.querySelector(".save-another-form");function addRemoveButtonEvent(e){for(let t=0;t<e.length;t++)e[t].addEventListener("click",removeForm)}function addForm(e){e.preventDefault(),saveButton.classList.remove("d-none");let t=parseInt(totalForms.value),o=form[0].cloneNode(!0);RegExp("form-(\\d){1}-","g");o.classList.remove("d-none"),o.innerHTML=o.innerHTML.replace(/__prefix__/g,`${t}`),console.log(form[0]),container.insertBefore(o,form[0]),totalForms.setAttribute("value",`${t+1}`),addRemoveButtonEvent(document.querySelectorAll(".remove-another-form"))}addButton&&addButton.addEventListener("click",addForm);let removeButtons=document.querySelectorAll(".remove-another-form");function removeForm(e){console.log("click"),e.preventDefault(),e.target.closest(".list-group-item").remove();let t=parseInt(document.querySelector("#id_form-TOTAL_FORMS").value);totalForms.setAttribute("value",""+(t-1)),t-1==0&&saveButton.classList.add("d-none")}addRemoveButtonEvent(removeButtons);var sidebarToggler=document.querySelector(".sidebar-toggler");sidebarToggler&&sidebarToggler.addEventListener("click",toggleSidebar);var sidebarTogglerHide=document.querySelector(".sidebar-toggler-hide");function toggleSidebar(){const e=document.querySelector(".sidebar");"none"===window.getComputedStyle(e).display?(e.style.display="flex",sidebarTogglerHide.style.display="block"):(e.style.display="",sidebarTogglerHide.style.display="")}sidebarTogglerHide&&sidebarTogglerHide.addEventListener("click",toggleSidebar);let expandAll=document.getElementById("expand-all");function updateProduct(e,t){var o=$("#basket");o.find(".summary").removeClass("d-none"),o.find(".current-order").hide();var n=$("tr[data-product='"+e+"']"),r=n.data("ordered-quantity");n.data("basket-quantity",t),t=r+t,n.find("select.order-quantity").val(t),t>0?(n.removeClass("d-none"),n.show()):0==t&&n.hide();$("select.order-quantity").each((function(){parseInt($(this).val())}));var a=0;$("#checkout table tbody tr").each((function(){a+=$(this).data("basket-quantity")})),console.log("ttbasket:",a),1==a?(o.find(".single").show(),o.find(".plural").hide()):a>1&&(o.find(".plural").show(),o.find(".single").hide(),o.find(".plural .qty").html(a)),a>0?(o.find(".summary").show(),o.find(".empty").hide(),$("header .shopping-basket .order-quantity").removeClass("d-none"),$("header .shopping-basket .order-quantity").show().html(a),$("#customer-order-form").dirty("setAsDirty"),$("#customer-order-form .form-check").removeClass("d-none").show(),$('#customer-order-form button[type="submit"]').removeClass("d-none").show(),$('#customer-order-form button[data-bs-dismiss="modal"]').hide(),$("#checkout .modal-title span").removeClass("d-none").show()):($("header .shopping-basket .order-quantity").hide(),o.find(".summary").hide(),o.find(".empty").show(),o.find(".current-order").show(),$("#customer-order-form").dirty("setAsClean"),$("#customer-order-form .form-check").removeClass("d-none").hide(),$('#customer-order-form button[type="submit"]').removeClass("d-none").hide(),$('#customer-order-form button[data-bs-dismiss="modal"]').show(),$("#checkout .modal-title span").removeClass("d-none").hide()),o.removeClass("d-none")}expandAll&&(document.getElementById("expand-all").onclick=function(){console.log(this.getAttribute("aria-expanded")),this.setAttribute("aria-expanded","true"!==this.getAttribute("aria-expanded")),this.classList.toggle("show");var e=!1;this.classList.contains("show")&&(e=!0),document.querySelectorAll(".collapse").forEach((t=>{e?(t.classList.add("show"),document.querySelector('[data-bs-target="#'+t.id+'"]').setAttribute("aria-expanded",!0)):(t.classList.remove("show"),document.querySelector('[data-bs-target="#'+t.id+'"]').setAttribute("aria-expanded",!1))}))}),$("header .shopping-basket a").click((function(e){var t=document.getElementById("checkout");bootstrap.Modal.getOrCreateInstance(t).show()}));let plus_btns=document.querySelectorAll(".input-group .btn-plus"),minus_btns=document.querySelectorAll(".input-group .btn-minus"),qty_inputs=document.querySelectorAll(".input-group input[type=number]");plus_btns.forEach((e=>{console.log(e.disabled),e.previousElementSibling.disabled||e.addEventListener("click",(()=>{var t=e.previousElementSibling.value==e.previousElementSibling.max?e.previousElementSibling.max:parseInt(e.previousElementSibling.value)+1;e.previousElementSibling.value=t,updateProduct(e.getAttribute("data-product"),t)}))})),minus_btns.forEach((e=>{e.nextElementSibling.disabled||e.addEventListener("click",(()=>{var t=0==e.nextElementSibling.value?0:e.nextElementSibling.value-1;e.nextElementSibling.value=t,updateProduct(e.getAttribute("data-product"),t)}))})),$("#checkout .btn-delete").click((function(){console.log("click");var e=$(this).parents("tr");e.fadeOut(),e.find(".order-quantity").val(0).change()})),$('.checkout-modal form input[type="reset"]').click((function(){var e=$(this).parents("form");e.find(".form-check").removeClass("d-none").hide(),e.find('button[type="submit"]').removeClass("d-none").hide(),e.find('input[type="reset"]').removeClass("d-none").hide(),e.find('button[data-bs-dismiss="modal"]').show()})),$((function(){var e=$(".checkout-modal form").serialize();$(".checkout-modal form input, .checkout-modal form select").change((function(){console.log("change");var t=$(this).parents("form");console.log(t);var o=t.serialize();e==o?(console.log("unchanged"),t.find(".form-check").removeClass("d-none").hide(),t.find('button[type="submit"]').removeClass("d-none").hide(),t.find('input[type="reset"]').removeClass("d-none").hide(),t.find('button[data-bs-dismiss="modal"]').show(),$(this).parents(".checkout-modal").find(".modal-title span").removeClass("d-none").hide()):(t.find(".form-check").removeClass("d-none").show(),t.find('input[type="reset"]').removeClass("d-none").show(),t.find('button[type="submit"]').removeClass("d-none").show(),t.find('button[data-bs-dismiss="modal"]').hide(),$(this).parents(".checkout-modal").find(".modal-title span").removeClass("d-none").show(),console.log("changed"))}))}));var navbar=document.getElementById("navbar");navbar.classList.contains("nav-bg-dark")||(window.onscroll=function(){document.body.scrollTop>=200||document.documentElement.scrollTop>=200?navbar.classList.add("nav-bg-dark"):navbar.classList.remove("nav-bg-dark")});const myCollapsible=document.getElementById("navbarSupportedContent"),header=document.querySelector("header");myCollapsible.addEventListener("show.bs.collapse",(e=>{navbar.classList.add("nav-bg-dark"),header.classList.add("open"),document.body.classList.add("position-fixed-mobile")})),myCollapsible.addEventListener("hidden.bs.collapse",(e=>{header.classList.remove("open"),document.body.classList.remove("position-fixed-mobile"),document.body.scrollTop>=200||document.documentElement.scrollTop>=200||navbar.classList.remove("nav-bg-dark")}));
>>>>>>> main
